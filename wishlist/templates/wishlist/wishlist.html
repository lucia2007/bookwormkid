{% extends "base.html" %}
{% load static %}

{% block page_header %}
<div class="container header-container">
    <div class="row">
        <div class="col"></div>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="overlay"></div>
<div class="container mb-2">
    <div class="row">
        <div class="col">
            <h2 class="logo-font mb-4 text-center mt-5">Your Wishlist</h2>
            <hr>
        </div>
    </div>
    <div class="row">
        {% if customer_wishlist %}
        {% for wishlist_item in customer_wishlist %}
        <div class="col-12 col-md-6 col-lg-4 offset-lg-2">
            <div class="image-container">
                {% if wishlist_item.product.image %}
                <a href="{% url 'product_detail' wishlist_item.product.id %}"
                    aria-label="Takes the user to the wishlist. A picture of the book is displayed.">
                    <img class="card-img-top img-fluid card-image" src="{{ wishlist_item.product.image.url }}"
                        alt="{{ wishlist_item.product.title }}">
                </a>
                {% else %}
                <a href="{% url 'product_detail' wishlist_item.product.id %}"
                    aria-label="Takes the user to the wishlist. Noimage substitute picture is displayed.">
                    <img class="card-img-top img-fluid card-image" src="{{ MEDIA_URL }}noimage.png"
                        alt="{{ wishlist_item.product.title }}">
                </a>
                {% endif %}
            </div>
        </div>
        <div class="col-12 col-md-6 col-lg-4 d-flex align-items-center flex-column">
            <div class="product-details-container mb-5 mt-5">
                <p class="mb-0"><i class="fa-solid fa-book"></i>
                    {{ wishlist_item.product.title }}</p>
                <p class="mb-0"><i class="fa-solid fa-at"></i> {{ wishlist_item.product.author }}</p>
                <p class="mb-0"><i class="fa-solid fa-child"></i> {{ wishlist_item.product.by_age }}</p>
                <p class="lead mb-0 text-left font-weight-bold">â‚¬{{ wishlist_item.product.price }}</p>
            </div>
            <div class="text-center my-3">
                <div class="col-12">
                    <a href="{% url 'remove_from_wishlist' wishlist_item.product.id %}"
                        aria-label="Adds a product to wishlist" class="btn btn-outline-navy-reverse mb-2"><i
                            class="fas fa-heart"> </i> Remove From Wishlist
                    </a>
                    <a href="" class="btn btn-outline-navy mb-2"
                        aria-label="Adds the chosen book to the shopping bag"><i class="fas fa-shopping-bag"> </i> Add
                        To Bag
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
        {% endif %}
    </div>
    <div class="btt-button shadow-sm bg-navy rounded-circle border border-white">
        <a href="" class="btt-link d-flex h-100" aria-label="scroll to top button">
            <i class="fas fa-arrow-up text-white mx-auto my-auto"></i>
        </a>
    </div>
    {% endblock %}

    {% block postloadjs %}
    {{ block.super }}
    <script>
        $('.btn-link').click(function (e) {
            window.scrollTo(0, 0)
        })
    </script>
    {% endblock %}